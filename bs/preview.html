<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>预览</title>
    <style>
        .img {
            height: 320px;
        }
    </style>
    <script src="static/js/jquery-1.4.4.min.js"></script>
    <script>
        function setValue (data) {
            // 设置页面标题
            document.title = data['point_name'];

            // 设置页面内容
            $('#farm').html(data['farm_name']);
            $('#wind_turbine').html(data['wind_turbine_name']);
            $('#point_name').html(data['point_name']);
            $('#sampling_time').html(data['sampling_time']);
            $('#analyst').html(data['analyst']);
            $('#ts').html(data['ts']);
            $('#freq').html(data['freq']);
            $('#env').html(data['env']);
            $('#trend').html(data['trend']);
            $('#level').html(data['level']);
            $('#img_t').attr('src', data['img_t']);
            $('#img_f').attr('src', data['img_f']);
            $('#img_e').attr('src', data['img_e']);
        }

        // 调用父页面的函数
        let data = window.opener.getPreviewData();

        $(document).ready(function () {
            setValue(data);
        });
    </script>
</head>
<body>
    <div>
        <strong>风场：</strong><p id="farm"></p>
        <strong>风机：</strong><p id="wind_turbine"></p>
        <strong>测点名称：</strong><p id="point_name"></p>
        <strong>采样时间：</strong><p id="sampling_time"></p>
        <strong>分析师：</strong><p id="analyst"></p>
        <p><img alt="" class="img" id="img_t" src="" /></p>
        <strong>时域分析结果：</strong><p id="ts"></p>
        <p><img alt="" class="img" id="img_f" src="" /></p>
        <strong>频域分析结果：</strong><p id="freq"></p>
        <p><img alt="" class="img" id="img_e" src="" /></p>
        <strong>包络分析结果：</strong><p id="env"></p>
        <strong>趋势分析结果：</strong><p id="trend"></p>
        <strong>故障级别：</strong><p id="level"></p>
    </div>
</body>
</html>